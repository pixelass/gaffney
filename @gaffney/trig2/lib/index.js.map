{"version":3,"sources":["../src/index.js"],"names":["trig2","year","month","day","JULIAN_DAY","n","t","t2","aS","aM","extra","i","jD"],"mappings":";;;;;;AAAA;;AAOA;;;;;;AAEA,IAAMA,QAAQ,SAARA,KAAQ,CAACC,IAAD,EAAOC,KAAP,EAAcC,GAAd,EAAsB;AAClC,MAAMC,aAAa,yBAAUH,IAAV,EAAgBC,KAAhB,EAAuBC,GAAvB,CAAnB;AACA,MAAME,IAAI,kBAAM,SAASJ,OAAO,IAAP,GAAc,CAACC,QAAQ,GAAT,IAAgB,EAAvC,CAAN,CAAV;AACA,MAAMI,IAAID,IAAI,OAAd;AACA,MAAME,KAAKD,IAAIA,CAAf;AACA,MAAME,KAAK,WAAW,YAAYH,CAAlC;AACA,MAAMI,KAAK,WAAW,aAAaJ,CAAxB,GAA4B,UAAUE,EAAjD;AACA,MAAMG,QACJ,UACA,aAAaL,CADb,GAEA,CAAC,WAAW,UAAUC,CAAtB,IAA2BC,EAF3B,GAGA,CAAC,SAAS,UAAUD,CAApB,IAAyB,gBAAI,4BAAIE,EAAJ,CAAJ,CAHzB,GAIA,SAAS,gBAAI,4BAAIC,EAAJ,CAAJ,CALX;AAMA,MAAME,IAAID,QAAQ,CAAR,GAAY,kBAAMA,KAAN,CAAZ,GAA2B,iBAAKA,QAAQ,CAAb,CAArC;AACA,MAAME,KAAK,UAAU,KAAKP,CAAf,GAAmBM,CAA9B;AACA,SAAO,CAACP,aAAaQ,EAAb,GAAkB,EAAnB,IAAyB,EAAhC;AACD,CAhBD;;kBAkBeZ,K","file":"index.js","sourcesContent":["import {\n  floor,\n  sin,\n  ceil,\n  getFraction as fr,\n  degreeToRadians as rad\n} from '@gaffney/utils'\nimport julianDay from '@gaffney/julian-day'\n\nconst trig2 = (year, month, day) => {\n  const JULIAN_DAY = julianDay(year, month, day)\n  const n = floor(12.37 * (year - 1900 + (month - 0.5) / 12))\n  const t = n / 1236.85\n  const t2 = t * t\n  const aS = 359.2242 + 29.105356 * n\n  const aM = 306.0253 + 385.816918 * n + 0.01073 * t2\n  const extra =\n    0.75933 +\n    1.53058868 * n +\n    (1.178e-4 - 1.55e-7 * t) * t2 +\n    (0.1734 - 3.93e-4 * t) * sin(rad(aS)) -\n    0.4068 * sin(rad(aM))\n  const i = extra > 0 ? floor(extra) : ceil(extra - 1)\n  const jD = 2415020 + 28 * n + i\n  return (JULIAN_DAY - jD + 30) % 30\n}\n\nexport default trig2\n"]}